<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="chrome=1"/>
    <title>Aloisio Arsego Wohlmeister</title>

    <link rel="stylesheet" href="stylesheets/styles.css"/>
    <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="wrapper">
      <header>
        <h1>Aloisioaw.github.com</h1>
        <p>Minhas anotações sobre Desenvolvimento de Software</p>

        <a href="DependenciaCircularEJB.html">Dependência Circular - EJB</a>
        <a href="eclipse/Configuracao.html">Eclipse - Configuração</a>
        <p class="view">
          <a href="https://github.com/aloisioaw">Meu perfil no GitHub</a>
        </p>
      </header>
      <section>
      	<h2>Dependência Circular de EJB's - O que fazer????</h2>
        <p>Eu preferi montar um EJB que centralize os dois Repository, me livrando de utilizar uma referência circular.
			No meu caso, pq a referência circular aconteceu?
			Pelo simples fato de eu ter algumas automatizações que cascateiam a criação de informação.

			Exemplo esdrúxulo e incorreto: ao criar um usuário, um set de permissões básicas são criadas ao mesmo tempo.
			Imagine que você tem uma classe Usuario e uma Permissao. No modelo onde utilizamos Repositórios genéricos, você fica restrito, obviamente, a um tipo de Entidade por repositório. Então, ao criar o usuário, você irá inserir as Permissões chamando algum método com o nome semelhante a "CriarPermissoesPadrao", o que estará no Service de que mantém as Permissões.
			Até aqui, tudo bem.
			Agora imagine que temos um método "buscarPermissoesDoUsuario" usando um "getById" do Service do Usuário. Pronto. Temos uma dependência circular.

			Então, ao invés de utilizar a estrutura "reta", você cria um Service que faça essa criação e injete somente os Repositories.
		</p>
      </section>
      <footer>
        <p>
          <small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small>
        </p>
      </footer>
    </div>
        <script src="javascripts/scale.fix.js" />
  </body>
</html>